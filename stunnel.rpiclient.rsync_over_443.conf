# rsync over 443
#
# rsync over stunnel: 
# server stunnel.conf
# 
# http://www.netbits.us/docs/stunnel_rsync.html
#
# this uses tcp-wrappers to control the access to these ports.
# 
# rsync:873 -> stunnel:443 -----> server stunnel:443 -> rsync:873
# 
# Before running this script:
#
# add to client /etc/services:
# ssync 443/tcp # rsync over stunnel
# 
# add to client /etc/hosts.allow:
# ssync : LOCAL
#
# <run stunnel>
#
# test rsync via the client:
# /usr/bin/rsync -vv localhost::

output	= /var/log/stunnel4/stunnel.log
cert	= /etc/stunnel/stunnel.fullchain.pem
key		= /etc/stunnel/stunnel.key.pem
pid		= /var/run/stunnel4/stunnel.pid
client	= yes

[ssync]
accept = 873
connect = A.B.C.D:443
